# –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø–æ–∫—É–ø–æ–∫ –Ω–∞ Digiseller

## üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
- [–ì–∞–π–¥ –ø–æ –∑–∞–ø—É—Å–∫—É –∏ –¥–µ–ø–ª–æ—é –ø—Ä–æ–≥—Ä–∞–º–º—ã](#–≥–∞–π–¥-–ø–æ-–∑–∞–ø—É—Å–∫—É-–∏-–¥–µ–ø–ª–æ—é-–ø—Ä–æ–≥—Ä–∞–º–º—ã)
    - [–®–∞–≥ 1. –§–æ—Ä–∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è](#-—à–∞–≥-1-—Ñ–æ—Ä–∫-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)
    - [–®–∞–≥ 2. –†–∞–±–æ—Ç–∞ —Å —Ö–æ—Å—Ç–∏–Ω–≥–æ–º –∏ –¥–µ–ø–ª–æ–π](#-—à–∞–≥-2-–Ω–∞-—Å—Ç—Ä–∞–Ω–∏—Ü–µ-–¥–µ–ø–ª–æ—è)
        - [ENV –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ](#env-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)
    - [–®–∞–≥ 3. –ö–∞–∫ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—ã–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#-—à–∞–≥-3-–∫–∞–∫-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è-–Ω–∞-—Å—Ç—Ä–∞–Ω–∏—Ü–µ-–≤—ã–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
    - [–®–∞–≥ 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Callback URL –≤ –∫–∞–±–∏–Ω–µ—Ç–µ Digiseller](#-—à–∞–≥-4-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-callback-url-–≤-–∫–∞–±–∏–Ω–µ—Ç–µ-digiseller)

---

## –ì–∞–π–¥ –ø–æ –∑–∞–ø—É—Å–∫—É –∏ –¥–µ–ø–ª–æ—é –ø—Ä–æ–≥—Ä–∞–º–º—ã

### üîπ –®–∞–≥ 1. –§–æ—Ä–∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
–°–Ω–∞—á–∞–ª–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ñ–æ—Ä–∫–Ω—É—Ç—å –¥–∞–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ —Å–≤–æ–π Github –∞–∫–∫–∞—É–Ω—Ç:  
üëâ https://github.com/yofujitsu/digiseller-payment-callback/fork

–ü–æ—Å–ª–µ —Ñ–æ—Ä–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Å –∫–æ–¥–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ, —á—Ç–æ–±—ã –∞—Ä–µ–Ω–¥–æ–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞.  
–Ø –ª–∏—á–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é —Ö–æ—Å—Ç–∏–Ω–≥ üëâ https://timeweb.cloud. –ù–∞ –Ω–µ–º —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–µ–µ –≤—Å–µ–≥–æ.  
–°–æ–∑–¥–∞–µ–º –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ –∏ –Ω–∞—Ö–æ–¥–∏–º –≤–∫–ª–∞–¥–∫—É **Apps**. –í –Ω–µ–π –Ω–∞–∂–∏–º–∞–µ–º –∫–Ω–æ–ø–∫—É **–î–æ–±–∞–≤–∏—Ç—å**.

---

### üîπ –®–∞–≥ 2. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–µ–ø–ª–æ—è:
1. **–¢–∏–ø** ‚Äî Docker ‚Üí Dockerfile
2. **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π** ‚Äî –î–æ–±–∞–≤–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç ‚Üí –ü–æ–¥–∫–ª—é—á–∏—Ç–µ git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø–æ URL ‚Üí –í–≤–æ–¥–∏–º:
    - URL —Å—Ñ–æ—Ä–∫–Ω—É—Ç–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
    - –õ–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –æ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é
3. **–í–µ—Ç–∫–∞** ‚Äî master –∏ –≤—ã–±–∏—Ä–∞–µ–º —Å–∞–º—ã–π –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –∫–æ–º–º–∏—Ç –ø–æ –¥–∞—Ç–µ
4. **–†–µ–≥–∏–æ–Ω** ‚Äî –ª—é–±–æ–π —É–¥–æ–±–Ω—ã–π (–º–æ–∂–Ω–æ –†–æ—Å—Å–∏—é, –º–æ–∂–Ω–æ –ï–≤—Ä–æ–ø—É)
5. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –±—Ä–∞—Ç—å –∑–∞ *555 —Ä. 2 √ó 3.3 –ì–ì—Ü*, —á—Ç–æ–±—ã –ø—Ä–æ–≥—Ä–∞–º–º–∞ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—à–ª–∞ –ø—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏ –∏ –∏–º–µ–ª–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –∑–∞–ø–∞—Å —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–∞–∂–µ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –Ω–∞–ø–ª—ã–≤–µ –ø—Ä–æ–¥–∞–∂
6. **–°–µ—Ç—å** ‚Äî –æ—Å—Ç–∞–≤–ª—è–µ–º –∫–∞–∫ –µ—Å—Ç—å
7. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** ‚Äî –∑–¥–µ—Å—å –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å **3 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** (–≤ –ø–æ–ª–µ "–ö–ª—é—á" –ø–∏—à–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–≥–ª–∞–≤–Ω—ã–º–∏ –±—É–∫–≤–∞–º–∏, –≤ "–ó–Ω–∞—á–µ–Ω–∏–µ" ‚Äî —Å–∞–º —Ä–µ—Å—É—Ä—Å)

#### ENV –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- `MESSAGE` ‚Äî —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –ø–æ–∫—É–ø–∞—Ç–µ–ª—é, –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –≤ –∫–∞–≤—ã—á–∫–∏ (`""`)
- `API_KEY` ‚Äî Api-–∫–ª—é—á –≤–∞—à–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ Digiseller (–Ω—É–∂–µ–Ω –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API Digiseller). –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –º–æ–∂–Ω–æ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫–µ **–ú–∞–≥–∞–∑–∏–Ω ‚Üí API ‚Üí API –ö–ª—é—á–∏**
- `SELLER_ID` ‚Äî –≤–∞—à –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–¥–∞–≤—Ü–∞ (–º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –≤ –ø–∞–Ω–µ–ª–∏ **–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**)

8. **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏** ‚Äî –ø–æ –∂–µ–ª–∞–Ω–∏—é –º–æ–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –∏–º—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü–æ –æ–∫–æ–Ω—á–∞–Ω–∏—é –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∂–Ω–æ –Ω–∞–∂–∏–º–∞—Ç—å **–ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–ø–ª–æ–π**. –î–∞–ª–µ–µ –Ω–∞—á–Ω–µ—Ç—Å—è —Å–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

---

### üîπ –®–∞–≥ 3. –ö–∞–∫ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—ã–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
1. **–î–∞—à–±–æ—Ä–¥** ‚Äî –∑–¥–µ—Å—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≥—Ä–∞—Ñ–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –Ω–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
2. **–î–µ–ø–ª–æ–π** ‚Äî –∑–¥–µ—Å—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ª–æ–≥–∏ —Å–±–æ—Ä–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å —Å–±–æ—Ä–∫–∏).
3. **–õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** ‚Äî –∑–¥–µ—Å—å –º–æ–∂–Ω–æ —Å–ª–µ–¥–∏—Ç—å –∑–∞ —Å–æ–±—ã—Ç–∏—è–º–∏ –æ –ø–æ–∫—É–ø–∫–∞—Ö (–≤ –ª–æ–≥–∞—Ö –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è email –ø–æ–∫—É–ø–∞—Ç–µ–ª—è, —Å—Ç–æ–∏–º–æ—Å—Ç—å —Å–¥–µ–ª–∫–∏, ID –∑–∞–∫–∞–∑–∞, –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ —Ç.–ø.).
4. **–ö–æ–Ω—Å–æ–ª—å –∏ —Å–µ—Ç—å** ‚Äî –º–æ–∂–Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.
5. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞, –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–µ–ø–ª–æ—è, –≤–∫–ª—é—á–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –∫–æ–º–º–∏—Ç –¥–ª—è —Å–±–æ—Ä–∫–∏.

---

### üîπ –®–∞–≥ 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Callback URL –≤ –∫–∞–±–∏–Ω–µ—Ç–µ Digiseller
–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏–ª–æ—Å—å –∏ —Å–æ–±—Ä–∞–ª–æ—Å—å, –Ω—É–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å **callback URL** –≤ –∫–∞–±–∏–Ω–µ—Ç–µ Digiseller:

1. –ë–∞–∑–æ–≤—ã–π URL –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫–µ **–î–∞—à–±–æ—Ä–¥** –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ –≤ –ø–∞–Ω–µ–ª–∏ —Å–ø—Ä–∞–≤–∞ (**–î–æ–º–µ–Ω**).
2. –í–ø–∏—Å–∞—Ç—å –µ–≥–æ –Ω—É–∂–Ω–æ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ Digiseller:
    - **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è ‚Üí URL ‚Üí –í–∫–ª–∞–¥–∫–∞ "–ü—Ä–æ–¥–∞–∂–∞ —Ç–æ–≤–∞—Ä–∞"**
    - –í—Å—Ç–∞–≤–ª—è–µ–º URL –≤ –ø–æ–ª–µ, –¥–æ–±–∞–≤–∏–≤ –∫ –Ω–µ–º—É –ø—É—Ç—å:
      ```
      /webhook/sale
      ```
    - –ú–µ—Ç–æ–¥ –æ—Å—Ç–∞–≤–ª—è–µ–º **POST** ‚Üí –Ω–∞–∂–∏–º–∞–µ–º **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å**
    - –ü—Ä–∏–º–µ—Ä:
      ```
      https://your-domain.com/webhook/sale
      ```

---

## ‚úÖ –¢–µ–ø–µ—Ä—å –≤—Å—ë –≥–æ—Ç–æ–≤–æ
–ú–æ–∂–Ω–æ —Å–ª–µ–¥–∏—Ç—å –∑–∞ –ø—Ä–æ–¥–∞–∂–∞–º–∏ –≤ **–ª–æ–≥–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ.
